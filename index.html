<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Clickjacking Protection-->
  <script type="text/javascript">
    if (top != self) top.location.replace(self.location.href); 
  </script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Simple Timeline</title>
  <link rel="shortcut icon" href="image/favicon.ico">
  <link href="css/librairies/vis.css" rel="stylesheet" type="text/css" />
  <!-- <link href="css/librairies/vis-timeline-graph2d.min.css" rel="stylesheet" type="text/css" /> -->
  <link rel="stylesheet" type="text/css" href="css/editmode.css" />
  <link href="css/librairies/jquery-ui.min.css" rel="stylesheet" type="text/css" />
  <script src="js/librairies/jquery.min.js"></script>
  <script src="js/librairies/jquery-ui.min.js"></script>
  <script src="js/librairies/vis.js"></script>
  <!-- <script src="js/librairies/vis-timeline-graph2d.min.js"></script> -->
  <script src="js/timelinebasic.js"></script>
  <script src="js/editmodesetup.js"></script>
  <script src="js/editmode.js"></script>
  <script src="js/savenewtimeline.js"></script>
  <script src="js/dateformatchecker.js"></script>

</head>

<body>

  <header>
    <h1>Simple Timeline</h1>
    <h2 title="Change the Title">Timeline's title</h2>
    <div>
      <!-- <label for="checkboxPrivate">Privée</label><input type="checkbox" id="checkBoxPrivate" />
      <button id="btnShare">Partager</button>
      <form action="account.php" method="GET">
        <button name="action">Déconnexion</button>
      </form> -->
    </div>
  </header>
  <nav>
    <!-- Les liens du nav appel la fonction changeMenu pour enlever ledit menu une fois qu'on se fait rediriger (sur mobile)-->
    <!-- <a href="account.php">
      Toutes mes timelines
    </a>
    <a href="#">
      Créer une nouvelle timeline
    </a>
    <a href="account.php">
      Gestion du compte
    </a> -->
    
    <button onclick="showDemoTimeline()">Show demo timeline</button>
    <button onclick="startNewTimeline()">New timeline</button>
    <button onclick="toggleImporter()">Import timeline</button>
    <div id="drop_zone" ondrop="dropHandler(event);" ondragover="dragOverHandler(event);">
      <button onclick="toggleImporter()">x</button>
      <p>Drag and drop a timeline file here</p>
      <!-- <input type="file"> -->
    </div>
    <button onclick="exportTimeline()" >Export timeline</button>
    <a id="exportTimeline" style="display: none;">Export timeline</a>
    
  </nav>
  <main>
    <div class="dateIndicator" title="Change the timeline's Start Date">01-01-2000</div>
    <div class="dateIndicator" title="Change the timeline's End Date">31-12-2099</div>
    <p id="description" title="Change the description"></p>


    <div id=btnContainer>
      <div>
        <button id="btnAddLine">Add a line</button>
        <button id="btnShowAllLine">Show all lines</button>
        <button id="btnMoveToFirstItem">Go to first event</button>
        <button id="btnAutoScroll">Auto scroll</button>
        <!-- <button id="btnSave">Sauvegarder la timeline</button> -->
      </div>
      <button id="btnHelp">?</button>
    </div>

    <div id="modalHelp" title="?">
      <h2>What's Simple Timeline?</h2>
      <p>
        The goal of this webapp is to help you visualize the passing of time.
        I use it to visualize my life, but you could make a timeline about anything.
      </p>
      <p>
        Your data stays yours 100%. 
        In fact, you'll have to download and store the data yourself if you want to save a timeline.
        There's no database behind this.
      </p>
      <h2>Tips and tricks:</h2>
      <p>
        <span class="push-left">- To zoom in and out: <br> </span>
        Hold the <kbd>ctrl</kbd> key and scroll. Or pinch.
      </p>
      <p>
        <span class="push-left">- For a perfect zoom out: <br> </span>
        Double click on the timeline (not on an event).
      </p>
      <p>
        <span class="push-left">- To add events: <br> </span>
        Use the green "+" button or right click on the timeline 
      </p>
      <p>
        <span class="push-left">- To edit events: <br> </span>
        Right click on them. You can also drag them around.
      </p>
      <p>
        <span class="push-left">- To move lines up and down: <br> </span>
        Click on a line's name and drag it up or down.
      </p>
      <p>
        <span class="push-left">- To change a timeline's name, description or start/end date: <br> </span>
        Click on what you want to change.
      </p>
      <p>
        <span class="push-left">- To save your timeline: <br> </span>
        Click "Export timeline" and keep the file somewhere safe.
      </p>
      <p>
        <span class="push-left">- To load a saved timeline: <br> </span>
        Click "Import timeline" and drag and drop the file you previously exported.
      </p>
      <!-- <p>
        <span class="push-left">- : <br> </span>
        
      </p> -->
      <hr>
      <p>
        For questions, comments, feature requests and insults,
        <a href="https://www.felixparadis.com/contact/">Reach out to me.</a>
      </p>
      <!-- <p>VOUS DEVEZ SAUVEGARDER VOTRE TIMELINE SI VOUS VOULEZ CONSERVER VOS CHANGEMENTS.</p>
      <p>Vous pouvez dragger les événement et changer leurs durée.</p>
      <p>Double cliquez sur la timeline pour un "zoom out parfait".</p>
      <p>Double cliquez sur un événement pour afficher sa description.</p>
      <p>Faites un clic droit sur la timeline pour ajouter un événement.</p>
      <p>Faites un clic droit sur un événement pour le modifier.</p>
      <p>Changez l'ordre des lignes en les draggant une à la fois.</p>
      <p>Amenez votre curseur en dehors de la timeline pour faire défiler la page.</p>
      <p>Les dates de début et de fin de votre timeline sont affichées en haut et sont modifiables.</p>
      <p>Cliquez sur le titre pour le modifier.</p>
      <p>Cliquez sur la description pour la modifier.</p> -->

    </div>

    <div id="modalAddEvent" title="Add an event">
      <p>Title: <input type="text" id="newEventTitle"></p>
      <p>Description: <textarea type="text" id="newEventDesc" placeholder="(optional)"></textarea></p>
      <p>Color: <select id="newEventColor">
          <option value="default">Blue</option>
          <option value="red">Red</option>
          <option value="green">Green</option>
          <option value="orange">Orange</option>
          <option value="magenta">Magenta</option>
          <option value="black">Black</option>
          <option value="white">White</option>
        </select></p>
      <p>Start Date: <input type="text" id="datePickerStart"></p>
      <p>End Date: <input type="text" id="datePickerEnd"></p>
      <p></p>
    </div>
    <div id="modalAddLine" title="Add a line">
      <p>Line name: <input type="text" id="lineName"></p>
      <!-- Positionnement de la nouvelle ligne: <input type="text" id="newLineOrder"> -->
      <p></p>
    </div>
    <div id="modalChangeEndDate" title="Choose End Date">
      <p>End Date: <input type="text" id="datePickerTimelineEnd"></p>
      <p></p>
    </div>
    <div id="modalChangeStartDate" title="Choose Start Date">
      <p>Start Date: <input type="text" id="datePickerTimelineStart"></p>
      <p></p>
    </div>
    <div id="modalEditEvent" title="Modify an item">
      <p>Title: <input type="text" id="editedEventTitle"></p>
      <p>Description: <textarea type="text" id="editedEventDescription"></textarea></p>
      <p>Color: <select id="editedEventColor">
          <option value="default">Blue</option>
          <option value="red">Red</option>
          <option value="green">Green</option>
          <option value="orange">Orange</option>
          <option value="magenta">Magenta</option>
          <option value="black">Black</option>
          <option value="white">White</option>
        </select></p>
      <p>Start date: <input type="text" id="editedEventDatePickerStart"></p>
      <p>End date: <input type="text" id="editedEventDatePickerEnd"></p>
      <p></p>
    </div>
    <div id="modalEditLine" title="Rename or delete this line">
      <p>New name for this line: <input type="text" id="newLineName"></p>
      <p></p>
    </div>
    <div id="modalInfoItem" title="">
      <p></p>
      <!-- Éventuellement il faudrait un img tag ici, quand on aura des images... -->
    </div>
    <div id="modalNewTimeline" title="Create a new Timeline">
      <p>Title: <input type="text" id="newTimelineName"></p>
      <p>Start Date: <input type="text" id="newTimelineDatePickerStart"></p>
      <p>End Date: <input type="text" id="newTimelineDatePickerEnd"></p>
      <p>Description: <textarea rows="4" cols="50" type="text" id="newTimelineDescription"></textarea>
      <p></p>
    </div>
    <div id="modalNewTimelineSaveFirst" title="Create a new timeline">
      <p>Do you want to save this timeline first?</p>

    </div>
    <div id="modalRemoveLine" title="Do you want to delete this line?">
      <p>This line and all its events will be deleted.</p>
      <p>Go ahead?</p>
    </div>
    <div id="modalQuickAlert">
      <p></p>
    </div>

    <!-- Le plus important des div!!! -->
    <div id="timeline" oncontextmenu="return false;"></div>

  </main>
  <footer>
    A project by <a href="https://www.felixparadis.com/">Félix Paradis</a>
  </footer>
</body>

</html>